\begin{tikzpicture}
  \begin{axis}[
    axis equal image = true,
    axis lines = middle,
    x label style={at={(axis description cs:0.5, -0.1)},
      anchor=north, text width = 5cm},
    y label style={at={(axis description cs:-0.15, 1)},
      anchor=north east, text width = 2.5 cm},
    xlabel={Porcentaje de la población ordenada por su renta ($p$)},
    ylabel={Porcentaje de la renta total},
    xmin=0, xmax=100, ymin=0, ymax=100,
    ticklabel style = {font=\footnotesize},
    xtick={0, 20, 40, 60, 80, 100},
    ytick={0, 20, 40, 60, 80, 100},
    % legend pos=south east,
    grid=major
    ]
    % Línea de igualdad perfecta
    \addplot[domain=0:100, semithick, black!60!, name path=A] {x} ;


    \addplot[very thick, blue!40!black, smooth, name path=B] coordinates {
      (0,0) (20, 5) (40, 15) (60, 30) (80, 55) (100, 100)
    }
    node[pos=0.62, below right, yshift = -4pt, text=black, fill=white] {$L(p)$};

    % Área entre la diagonal y la curva de Lorenz
    \addplot[gray, fill opacity=0.2] fill between[of=A and B];

  \end{axis}
\end{tikzpicture}

%%% Local Variables:
%%% mode: LaTeX
%%% TeX-master: t
%%% End:
